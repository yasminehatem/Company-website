{"version":3,"sources":["table/Table.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","ReactDOM","RcTable","INTERNAL_COL_DEFINE","PropTypes","classNames","shallowEqual","FilterDropdown","createStore","SelectionBox","SelectionCheckboxAll","Column","ColumnGroup","createBodyRow","flatArray","treeMap","flatFilter","normalizeColumns","Pagination","Icon","Spin","TransButton","LocaleReceiver","defaultLocale","ConfigConsumer","warning","noop","stopPropagation","nativeEvent","stopImmediatePropagation","getRowSelection","props","rowSelection","defaultPagination","onChange","onShowSizeChange","emptyObject","Table","getCheckboxPropsByItem","item","index","getCheckboxProps","key","getRecordKey","CheckboxPropsCache","checkboxProps","onRow","prefixCls","record","custom","store","rowKey","handleFilter","column","nextFilters","pagination","state","filters","getColumnKey","currentColumnKeys","columns","c","children","push","keys","forEach","columnKey","current","newState","filtersToSetState","getFilteredValueColumns","col","setState","selectionDirty","apply","prepareParamsArguments","handleSelect","rowIndex","checked","target","defaultSelection","getState","getDefaultSelection","selectedRowKeys","concat","pivot","rows","getFlatCurrentPageData","realIndex","expandedRowRender","findIndex","row","shiftKey","undefined","changeRowKeys","direction","Math","sign","dist","abs","step","disabled","includes","filter","j","setSelectedRowKeys","selectWay","handleRadioSelect","handleSelectRow","selectionKey","onSelectFunc","data","changeableRowKeys","map","splice","customSelectionStartIndex","hideDefaultSelections","handlePageChange","otherArguments","renderSelectionBox","type","_","handleChange","recordKey","generatePopupContainerFunc","getPopupContainer","scroll","findDOMNode","handleShowSizeChange","pageSize","nextPagination","renderExpandIcon","expandable","expanded","needIndentSpaced","onExpand","locale","event","collapse","expand","renderTable","renderEmpty","dropdownPrefixCls","contextLocale","contextGetPopupContainer","_a","style","className","showHeader","restProps","getCurrentPageData","expandIconAsCell","realGetPopupContainer","mergedLocale","emptyText","classString","size","bordered","columnsWithRowSelection","renderRowSelection","renderColumnsDropdown","newColumn","expandIconColumnIndex","components","renderComponent","getPrefixCls","customizePrefixCls","customizeDropdownPrefixCls","loading","spinning","table","paginationPatchClass","hasPagination","renderPagination","some","fixed","createComponents","getDefaultSortOrder","getFiltersFromColumns","getDefaultPagination","getFlatData","defaultChecked","defaultCurrent","defaultPageSize","nextProps","previousState","newPagination","dataSource","getSortOrderColumns","sortState","getSortStateFromColumns","sortColumn","sortOrder","filteredValueColumns","filtersFromColumns","newFilters","isFiltersChanged","selectionInfo","selectedRows","onSelect","onSelectMultiple","changeRows","onSelectAll","onSelectInvert","filtersChanged","filteredValue","colKey","definedSortState","defaultSortedColumn","defaultSortOrder","sortedColumn","sorter","a","b","result","value","other","toString","sortDirections","newSortOrder","isSameColumn","methodIndex","selectionColumnClass","selections","selectionColumn","render","width","columnWidth","title","columnTitle","checkboxAllDisabled","every","unshift","dataIndex","total","floor","filterDropdown","sortButton","onHeaderCell","isSortColumn","colFilters","isAscend","isDescend","ascend","descend","sortTitle","colProps","onHeaderCellClick","onClick","toggleSortOrder","renderColumnTitle","Function","paginationPosition","position","getLocalData","getMaxCurrent","order","field","extra","currentDataSource","myKey","Number","MAX_VALUE","childrenColumnName","sorterFn","sort","recursiveSort","currentState","slice","getSorterFn","findColumn","values","onFilter","v","prevComponents","bodyRow","body","preBodyRow","Component","propTypes","array","string","useFixedHeader","bool","object","oneOfType","func","defaultProps","indentSize"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport RcTable, { INTERNAL_COL_DEFINE } from 'rc-table';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport FilterDropdown from './filterDropdown';\nimport createStore from './createStore';\nimport SelectionBox from './SelectionBox';\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport createBodyRow from './createBodyRow';\nimport { flatArray, treeMap, flatFilter, normalizeColumns } from './util';\nimport Pagination from '../pagination';\nimport Icon from '../icon';\nimport Spin from '../spin';\nimport TransButton from '../_util/transButton';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale/default';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\nfunction noop() { }\nfunction stopPropagation(e) {\n    e.stopPropagation();\n    if (e.nativeEvent.stopImmediatePropagation) {\n        e.nativeEvent.stopImmediatePropagation();\n    }\n}\nfunction getRowSelection(props) {\n    return props.rowSelection || {};\n}\nconst defaultPagination = {\n    onChange: noop,\n    onShowSizeChange: noop,\n};\n/**\n * Avoid creating new object, so that parent component's shouldComponentUpdate\n * can works appropriatelyã€‚\n */\nconst emptyObject = {};\nexport default class Table extends React.Component {\n    constructor(props) {\n        super(props);\n        this.getCheckboxPropsByItem = (item, index) => {\n            const rowSelection = getRowSelection(this.props);\n            if (!rowSelection.getCheckboxProps) {\n                return {};\n            }\n            const key = this.getRecordKey(item, index);\n            // Cache checkboxProps\n            if (!this.CheckboxPropsCache[key]) {\n                this.CheckboxPropsCache[key] = rowSelection.getCheckboxProps(item) || {};\n                const checkboxProps = this.CheckboxPropsCache[key];\n                warning(!('checked' in checkboxProps) && !('defaultChecked' in checkboxProps), 'Table', 'Do not set `checked` or `defaultChecked` in `getCheckboxProps`. Please use `selectedRowKeys` instead.');\n            }\n            return this.CheckboxPropsCache[key];\n        };\n        this.onRow = (prefixCls, record, index) => {\n            const { onRow } = this.props;\n            const custom = onRow ? onRow(record, index) : {};\n            return Object.assign({}, custom, { prefixCls, store: this.store, rowKey: this.getRecordKey(record, index) });\n        };\n        this.handleFilter = (column, nextFilters) => {\n            const props = this.props;\n            const pagination = Object.assign({}, this.state.pagination);\n            const filters = Object.assign({}, this.state.filters, { [this.getColumnKey(column)]: nextFilters });\n            // Remove filters not in current columns\n            const currentColumnKeys = [];\n            treeMap(this.columns, c => {\n                if (!c.children) {\n                    currentColumnKeys.push(this.getColumnKey(c));\n                }\n            });\n            Object.keys(filters).forEach(columnKey => {\n                if (currentColumnKeys.indexOf(columnKey) < 0) {\n                    delete filters[columnKey];\n                }\n            });\n            if (props.pagination) {\n                // Reset current prop\n                pagination.current = 1;\n                pagination.onChange(pagination.current);\n            }\n            const newState = {\n                pagination,\n                filters: {},\n            };\n            const filtersToSetState = Object.assign({}, filters);\n            // Remove filters which is controlled\n            this.getFilteredValueColumns().forEach((col) => {\n                const columnKey = this.getColumnKey(col);\n                if (columnKey) {\n                    delete filtersToSetState[columnKey];\n                }\n            });\n            if (Object.keys(filtersToSetState).length > 0) {\n                newState.filters = filtersToSetState;\n            }\n            // Controlled current prop will not respond user interaction\n            if (typeof props.pagination === 'object' && 'current' in props.pagination) {\n                newState.pagination = Object.assign({}, pagination, { current: this.state.pagination.current });\n            }\n            this.setState(newState, () => {\n                this.store.setState({\n                    selectionDirty: false,\n                });\n                const { onChange } = this.props;\n                if (onChange) {\n                    onChange.apply(null, this.prepareParamsArguments(Object.assign({}, this.state, { selectionDirty: false, filters,\n                        pagination })));\n                }\n            });\n        };\n        this.handleSelect = (record, rowIndex, e) => {\n            const checked = e.target.checked;\n            const nativeEvent = e.nativeEvent;\n            const defaultSelection = this.store.getState().selectionDirty ? [] : this.getDefaultSelection();\n            let selectedRowKeys = this.store.getState().selectedRowKeys.concat(defaultSelection);\n            const key = this.getRecordKey(record, rowIndex);\n            const { pivot } = this.state;\n            const rows = this.getFlatCurrentPageData();\n            let realIndex = rowIndex;\n            if (this.props.expandedRowRender) {\n                realIndex = rows.findIndex(row => this.getRecordKey(row, rowIndex) === key);\n            }\n            if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\n                const changeRowKeys = [];\n                const direction = Math.sign(pivot - realIndex);\n                const dist = Math.abs(pivot - realIndex);\n                let step = 0;\n                while (step <= dist) {\n                    const i = realIndex + step * direction;\n                    step += 1;\n                    const row = rows[i];\n                    const rowKey = this.getRecordKey(row, i);\n                    const checkboxProps = this.getCheckboxPropsByItem(row, i);\n                    if (!checkboxProps.disabled) {\n                        if (selectedRowKeys.includes(rowKey)) {\n                            if (!checked) {\n                                selectedRowKeys = selectedRowKeys.filter((j) => rowKey !== j);\n                                changeRowKeys.push(rowKey);\n                            }\n                        }\n                        else if (checked) {\n                            selectedRowKeys.push(rowKey);\n                            changeRowKeys.push(rowKey);\n                        }\n                    }\n                }\n                this.setState({ pivot: realIndex });\n                this.store.setState({\n                    selectionDirty: true,\n                });\n                this.setSelectedRowKeys(selectedRowKeys, {\n                    selectWay: 'onSelectMultiple',\n                    record,\n                    checked,\n                    changeRowKeys,\n                    nativeEvent,\n                });\n            }\n            else {\n                if (checked) {\n                    selectedRowKeys.push(this.getRecordKey(record, realIndex));\n                }\n                else {\n                    selectedRowKeys = selectedRowKeys.filter((i) => key !== i);\n                }\n                this.setState({ pivot: realIndex });\n                this.store.setState({\n                    selectionDirty: true,\n                });\n                this.setSelectedRowKeys(selectedRowKeys, {\n                    selectWay: 'onSelect',\n                    record,\n                    checked,\n                    changeRowKeys: void 0,\n                    nativeEvent,\n                });\n            }\n        };\n        this.handleRadioSelect = (record, rowIndex, e) => {\n            const checked = e.target.checked;\n            const nativeEvent = e.nativeEvent;\n            const key = this.getRecordKey(record, rowIndex);\n            const selectedRowKeys = [key];\n            this.store.setState({\n                selectionDirty: true,\n            });\n            this.setSelectedRowKeys(selectedRowKeys, {\n                selectWay: 'onSelect',\n                record,\n                checked,\n                changeRowKeys: void 0,\n                nativeEvent,\n            });\n        };\n        this.handleSelectRow = (selectionKey, index, onSelectFunc) => {\n            const data = this.getFlatCurrentPageData();\n            const defaultSelection = this.store.getState().selectionDirty ? [] : this.getDefaultSelection();\n            const selectedRowKeys = this.store.getState().selectedRowKeys.concat(defaultSelection);\n            const changeableRowKeys = data\n                .filter((item, i) => !this.getCheckboxPropsByItem(item, i).disabled)\n                .map((item, i) => this.getRecordKey(item, i));\n            const changeRowKeys = [];\n            let selectWay = 'onSelectAll';\n            let checked;\n            // handle default selection\n            switch (selectionKey) {\n                case 'all':\n                    changeableRowKeys.forEach(key => {\n                        if (selectedRowKeys.indexOf(key) < 0) {\n                            selectedRowKeys.push(key);\n                            changeRowKeys.push(key);\n                        }\n                    });\n                    selectWay = 'onSelectAll';\n                    checked = true;\n                    break;\n                case 'removeAll':\n                    changeableRowKeys.forEach(key => {\n                        if (selectedRowKeys.indexOf(key) >= 0) {\n                            selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n                            changeRowKeys.push(key);\n                        }\n                    });\n                    selectWay = 'onSelectAll';\n                    checked = false;\n                    break;\n                case 'invert':\n                    changeableRowKeys.forEach(key => {\n                        if (selectedRowKeys.indexOf(key) < 0) {\n                            selectedRowKeys.push(key);\n                        }\n                        else {\n                            selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n                        }\n                        changeRowKeys.push(key);\n                        selectWay = 'onSelectInvert';\n                    });\n                    break;\n                default:\n                    break;\n            }\n            this.store.setState({\n                selectionDirty: true,\n            });\n            // when select custom selection, callback selections[n].onSelect\n            const { rowSelection } = this.props;\n            let customSelectionStartIndex = 2;\n            if (rowSelection && rowSelection.hideDefaultSelections) {\n                customSelectionStartIndex = 0;\n            }\n            if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n                return onSelectFunc(changeableRowKeys);\n            }\n            this.setSelectedRowKeys(selectedRowKeys, {\n                selectWay,\n                checked,\n                changeRowKeys,\n            });\n        };\n        this.handlePageChange = (current, ...otherArguments) => {\n            const props = this.props;\n            const pagination = Object.assign({}, this.state.pagination);\n            if (current) {\n                pagination.current = current;\n            }\n            else {\n                pagination.current = pagination.current || 1;\n            }\n            pagination.onChange(pagination.current, ...otherArguments);\n            const newState = {\n                pagination,\n            };\n            // Controlled current prop will not respond user interaction\n            if (props.pagination && typeof props.pagination === 'object' && 'current' in props.pagination) {\n                newState.pagination = Object.assign({}, pagination, { current: this.state.pagination.current });\n            }\n            this.setState(newState);\n            this.store.setState({\n                selectionDirty: false,\n            });\n            const { onChange } = this.props;\n            if (onChange) {\n                onChange.apply(null, this.prepareParamsArguments(Object.assign({}, this.state, { selectionDirty: false, pagination })));\n            }\n        };\n        this.renderSelectionBox = (type) => {\n            return (_, record, index) => {\n                const rowKey = this.getRecordKey(record, index);\n                const props = this.getCheckboxPropsByItem(record, index);\n                const handleChange = (e) => {\n                    type === 'radio'\n                        ? this.handleRadioSelect(record, index, e)\n                        : this.handleSelect(record, index, e);\n                };\n                return (<span onClick={stopPropagation}>\n          <SelectionBox type={type} store={this.store} rowIndex={rowKey} onChange={handleChange} defaultSelection={this.getDefaultSelection()} {...props}/>\n        </span>);\n            };\n        };\n        this.getRecordKey = (record, index) => {\n            const { rowKey } = this.props;\n            const recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n            warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' +\n                'or set `rowKey` of Table to an unique primary key, ' +\n                'see https://u.ant.design/table-row-key');\n            return recordKey === undefined ? index : recordKey;\n        };\n        this.generatePopupContainerFunc = (getPopupContainer) => {\n            const { scroll } = this.props;\n            if (getPopupContainer) {\n                return getPopupContainer;\n            }\n            // Use undefined to let rc component use default logic.\n            return scroll ? () => ReactDOM.findDOMNode(this) : undefined;\n        };\n        this.handleShowSizeChange = (current, pageSize) => {\n            const { pagination } = this.state;\n            pagination.onShowSizeChange(current, pageSize);\n            const nextPagination = Object.assign({}, pagination, { pageSize,\n                current });\n            this.setState({ pagination: nextPagination });\n            const { onChange } = this.props;\n            if (onChange) {\n                onChange.apply(null, this.prepareParamsArguments(Object.assign({}, this.state, { pagination: nextPagination })));\n            }\n        };\n        this.renderExpandIcon = (prefixCls) => ({ expandable, expanded, needIndentSpaced, record, onExpand, }) => {\n            if (expandable) {\n                return (<LocaleReceiver componentName=\"Table\" defaultLocale={defaultLocale.Table}>\n          {(locale) => (<TransButton className={classNames(`${prefixCls}-row-expand-icon`, {\n                    [`${prefixCls}-row-collapsed`]: !expanded,\n                    [`${prefixCls}-row-expanded`]: expanded,\n                })} onClick={event => {\n                    onExpand(record, event);\n                }} aria-label={expanded ? locale.collapse : locale.expand} noStyle/>)}\n        </LocaleReceiver>);\n            }\n            if (needIndentSpaced) {\n                return <span className={`${prefixCls}-row-expand-icon ${prefixCls}-row-spaced`}/>;\n            }\n            return null;\n        };\n        this.renderTable = ({ prefixCls, renderEmpty, dropdownPrefixCls, contextLocale, getPopupContainer: contextGetPopupContainer, }) => {\n            const _a = this.props, { style, className, showHeader, locale, getPopupContainer } = _a, restProps = __rest(_a, [\"style\", \"className\", \"showHeader\", \"locale\", \"getPopupContainer\"]);\n            const data = this.getCurrentPageData();\n            const expandIconAsCell = this.props.expandedRowRender && this.props.expandIconAsCell !== false;\n            // use props.getPopupContainer first\n            const realGetPopupContainer = getPopupContainer || contextGetPopupContainer;\n            // Merge too locales\n            const mergedLocale = Object.assign({}, contextLocale, locale);\n            if (!locale || !locale.emptyText) {\n                mergedLocale.emptyText = renderEmpty('Table');\n            }\n            const classString = classNames({\n                [`${prefixCls}-${this.props.size}`]: true,\n                [`${prefixCls}-bordered`]: this.props.bordered,\n                [`${prefixCls}-empty`]: !data.length,\n                [`${prefixCls}-without-column-header`]: !showHeader,\n            });\n            const columnsWithRowSelection = this.renderRowSelection({\n                prefixCls,\n                locale: mergedLocale,\n                getPopupContainer: realGetPopupContainer,\n            });\n            const columns = this.renderColumnsDropdown({\n                columns: columnsWithRowSelection,\n                prefixCls,\n                dropdownPrefixCls,\n                locale: mergedLocale,\n                getPopupContainer: realGetPopupContainer,\n            }).map((column, i) => {\n                const newColumn = Object.assign({}, column);\n                newColumn.key = this.getColumnKey(newColumn, i);\n                return newColumn;\n            });\n            let expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\n            if ('expandIconColumnIndex' in restProps) {\n                expandIconColumnIndex = restProps.expandIconColumnIndex;\n            }\n            return (<RcTable key=\"table\" expandIcon={this.renderExpandIcon(prefixCls)} {...restProps} onRow={(record, index) => this.onRow(prefixCls, record, index)} components={this.components} prefixCls={prefixCls} data={data} columns={columns} showHeader={showHeader} className={classString} expandIconColumnIndex={expandIconColumnIndex} expandIconAsCell={expandIconAsCell} emptyText={mergedLocale.emptyText}/>);\n        };\n        this.renderComponent = ({ getPrefixCls, renderEmpty, getPopupContainer }) => {\n            const { prefixCls: customizePrefixCls, dropdownPrefixCls: customizeDropdownPrefixCls, style, className, } = this.props;\n            const data = this.getCurrentPageData();\n            let loading = this.props.loading;\n            if (typeof loading === 'boolean') {\n                loading = {\n                    spinning: loading,\n                };\n            }\n            const prefixCls = getPrefixCls('table', customizePrefixCls);\n            const dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n            const table = (<LocaleReceiver componentName=\"Table\" defaultLocale={defaultLocale.Table}>\n        {locale => this.renderTable({\n                prefixCls,\n                renderEmpty,\n                dropdownPrefixCls,\n                contextLocale: locale,\n                getPopupContainer,\n            })}\n      </LocaleReceiver>);\n            // if there is no pagination or no data,\n            // the height of spin should decrease by half of pagination\n            const paginationPatchClass = this.hasPagination() && data && data.length !== 0\n                ? `${prefixCls}-with-pagination`\n                : `${prefixCls}-without-pagination`;\n            return (<div className={classNames(`${prefixCls}-wrapper`, className)} style={style}>\n        <Spin {...loading} className={loading.spinning ? `${paginationPatchClass} ${prefixCls}-spin-holder` : ''}>\n          {this.renderPagination(prefixCls, 'top')}\n          {table}\n          {this.renderPagination(prefixCls, 'bottom')}\n        </Spin>\n      </div>);\n        };\n        const { expandedRowRender, columns = [] } = props;\n        warning(!('columnsPageRange' in props || 'columnsPageSize' in props), 'Table', '`columnsPageRange` and `columnsPageSize` are removed, please use ' +\n            'fixed columns instead, see: https://u.ant.design/fixed-columns.');\n        if (expandedRowRender && columns.some(({ fixed }) => !!fixed)) {\n            warning(false, 'Table', '`expandedRowRender` and `Column.fixed` are not compatible. Please use one of them at one time.');\n        }\n        this.columns = props.columns || normalizeColumns(props.children);\n        this.createComponents(props.components);\n        this.state = Object.assign({}, this.getDefaultSortOrder(this.columns), { \n            // å‡å°‘çŠ¶æ€\n            filters: this.getFiltersFromColumns(), pagination: this.getDefaultPagination(props), pivot: undefined });\n        this.CheckboxPropsCache = {};\n        this.store = createStore({\n            selectedRowKeys: getRowSelection(props).selectedRowKeys || [],\n            selectionDirty: false,\n        });\n    }\n    getDefaultSelection() {\n        const rowSelection = getRowSelection(this.props);\n        if (!rowSelection.getCheckboxProps) {\n            return [];\n        }\n        return this.getFlatData()\n            .filter((item, rowIndex) => this.getCheckboxPropsByItem(item, rowIndex).defaultChecked)\n            .map((record, rowIndex) => this.getRecordKey(record, rowIndex));\n    }\n    getDefaultPagination(props) {\n        const pagination = typeof props.pagination === 'object' ? props.pagination : {};\n        let current;\n        if ('current' in pagination) {\n            current = pagination.current;\n        }\n        else if ('defaultCurrent' in pagination) {\n            current = pagination.defaultCurrent;\n        }\n        let pageSize;\n        if ('pageSize' in pagination) {\n            pageSize = pagination.pageSize;\n        }\n        else if ('defaultPageSize' in pagination) {\n            pageSize = pagination.defaultPageSize;\n        }\n        return this.hasPagination(props)\n            ? Object.assign({}, defaultPagination, pagination, { current: current || 1, pageSize: pageSize || 10 }) : {};\n    }\n    componentWillReceiveProps(nextProps) {\n        this.columns = nextProps.columns || normalizeColumns(nextProps.children);\n        if ('pagination' in nextProps || 'pagination' in this.props) {\n            this.setState(previousState => {\n                const newPagination = Object.assign({}, defaultPagination, previousState.pagination, nextProps.pagination);\n                newPagination.current = newPagination.current || 1;\n                newPagination.pageSize = newPagination.pageSize || 10;\n                return { pagination: nextProps.pagination !== false ? newPagination : emptyObject };\n            });\n        }\n        if (nextProps.rowSelection && 'selectedRowKeys' in nextProps.rowSelection) {\n            this.store.setState({\n                selectedRowKeys: nextProps.rowSelection.selectedRowKeys || [],\n            });\n        }\n        else if (this.props.rowSelection && !nextProps.rowSelection) {\n            this.store.setState({\n                selectedRowKeys: [],\n            });\n        }\n        if ('dataSource' in nextProps && nextProps.dataSource !== this.props.dataSource) {\n            this.store.setState({\n                selectionDirty: false,\n            });\n        }\n        // https://github.com/ant-design/ant-design/issues/10133\n        this.CheckboxPropsCache = {};\n        if (this.getSortOrderColumns(this.columns).length > 0) {\n            const sortState = this.getSortStateFromColumns(this.columns);\n            if (sortState.sortColumn !== this.state.sortColumn ||\n                sortState.sortOrder !== this.state.sortOrder) {\n                this.setState(sortState);\n            }\n        }\n        const filteredValueColumns = this.getFilteredValueColumns(this.columns);\n        if (filteredValueColumns.length > 0) {\n            const filtersFromColumns = this.getFiltersFromColumns(this.columns);\n            const newFilters = Object.assign({}, this.state.filters);\n            Object.keys(filtersFromColumns).forEach(key => {\n                newFilters[key] = filtersFromColumns[key];\n            });\n            if (this.isFiltersChanged(newFilters)) {\n                this.setState({ filters: newFilters });\n            }\n        }\n        this.createComponents(nextProps.components, this.props.components);\n    }\n    setSelectedRowKeys(selectedRowKeys, selectionInfo) {\n        const { selectWay, record, checked, changeRowKeys, nativeEvent } = selectionInfo;\n        const rowSelection = getRowSelection(this.props);\n        if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n            this.store.setState({ selectedRowKeys });\n        }\n        const data = this.getFlatData();\n        if (!rowSelection.onChange && !rowSelection[selectWay]) {\n            return;\n        }\n        const selectedRows = data.filter((row, i) => selectedRowKeys.indexOf(this.getRecordKey(row, i)) >= 0);\n        if (rowSelection.onChange) {\n            rowSelection.onChange(selectedRowKeys, selectedRows);\n        }\n        if (selectWay === 'onSelect' && rowSelection.onSelect) {\n            rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n        }\n        else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\n            const changeRows = data.filter((row, i) => changeRowKeys.indexOf(this.getRecordKey(row, i)) >= 0);\n            rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\n        }\n        else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n            const changeRows = data.filter((row, i) => changeRowKeys.indexOf(this.getRecordKey(row, i)) >= 0);\n            rowSelection.onSelectAll(checked, selectedRows, changeRows);\n        }\n        else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n            rowSelection.onSelectInvert(selectedRowKeys);\n        }\n    }\n    hasPagination(props) {\n        return (props || this.props).pagination !== false;\n    }\n    isFiltersChanged(filters) {\n        let filtersChanged = false;\n        if (Object.keys(filters).length !== Object.keys(this.state.filters).length) {\n            filtersChanged = true;\n        }\n        else {\n            Object.keys(filters).forEach(columnKey => {\n                if (filters[columnKey] !== this.state.filters[columnKey]) {\n                    filtersChanged = true;\n                }\n            });\n        }\n        return filtersChanged;\n    }\n    getSortOrderColumns(columns) {\n        return flatFilter(columns || this.columns || [], (column) => 'sortOrder' in column);\n    }\n    getFilteredValueColumns(columns) {\n        return flatFilter(columns || this.columns || [], (column) => typeof column.filteredValue !== 'undefined');\n    }\n    getFiltersFromColumns(columns) {\n        const filters = {};\n        this.getFilteredValueColumns(columns).forEach((col) => {\n            const colKey = this.getColumnKey(col);\n            filters[colKey] = col.filteredValue;\n        });\n        return filters;\n    }\n    getDefaultSortOrder(columns) {\n        const definedSortState = this.getSortStateFromColumns(columns);\n        const defaultSortedColumn = flatFilter(columns || [], (column) => column.defaultSortOrder != null)[0];\n        if (defaultSortedColumn && !definedSortState.sortColumn) {\n            return {\n                sortColumn: defaultSortedColumn,\n                sortOrder: defaultSortedColumn.defaultSortOrder,\n            };\n        }\n        return definedSortState;\n    }\n    getSortStateFromColumns(columns) {\n        // return first column which sortOrder is not falsy\n        const sortedColumn = this.getSortOrderColumns(columns).filter((col) => col.sortOrder)[0];\n        if (sortedColumn) {\n            return {\n                sortColumn: sortedColumn,\n                sortOrder: sortedColumn.sortOrder,\n            };\n        }\n        return {\n            sortColumn: null,\n            sortOrder: null,\n        };\n    }\n    getSorterFn(state) {\n        const { sortOrder, sortColumn } = state || this.state;\n        if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n            return;\n        }\n        return (a, b) => {\n            const result = sortColumn.sorter(a, b, sortOrder);\n            if (result !== 0) {\n                return sortOrder === 'descend' ? -result : result;\n            }\n            return 0;\n        };\n    }\n    isSameColumn(a, b) {\n        if (a && b && a.key && a.key === b.key) {\n            return true;\n        }\n        return (a === b ||\n            shallowEqual(a, b, (value, other) => {\n                if (typeof value === 'function' && typeof other === 'function') {\n                    return value === other || value.toString() === other.toString();\n                }\n            }));\n    }\n    toggleSortOrder(column) {\n        if (!column.sorter) {\n            return;\n        }\n        const pagination = Object.assign({}, this.state.pagination);\n        const sortDirections = column.sortDirections || this.props.sortDirections;\n        const { sortOrder, sortColumn } = this.state;\n        // åªåŒæ—¶å…è®¸ä¸€åˆ—è¿›è¡ŒæŽ’åºï¼Œå¦åˆ™ä¼šå¯¼è‡´æŽ’åºé¡ºåºçš„é€»è¾‘é—®é¢˜\n        let newSortOrder;\n        // åˆ‡æ¢å¦ä¸€åˆ—æ—¶ï¼Œä¸¢å¼ƒ sortOrder çš„çŠ¶æ€\n        if (this.isSameColumn(sortColumn, column) && sortOrder !== undefined) {\n            // æŒ‰ç…§sortDirectionsçš„å†…å®¹ä¾æ¬¡åˆ‡æ¢æŽ’åºçŠ¶æ€\n            const methodIndex = sortDirections.indexOf(sortOrder) + 1;\n            newSortOrder =\n                methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\n        }\n        else {\n            newSortOrder = sortDirections[0];\n        }\n        if (this.props.pagination) {\n            // Reset current prop\n            pagination.current = 1;\n            pagination.onChange(pagination.current);\n        }\n        const newState = {\n            pagination,\n            sortOrder: newSortOrder,\n            sortColumn: newSortOrder ? column : null,\n        };\n        // Controlled\n        if (this.getSortOrderColumns().length === 0) {\n            this.setState(newState);\n        }\n        const { onChange } = this.props;\n        if (onChange) {\n            onChange.apply(null, this.prepareParamsArguments(Object.assign({}, this.state, newState)));\n        }\n    }\n    renderRowSelection({ prefixCls, locale, getPopupContainer, }) {\n        const { rowSelection } = this.props;\n        const columns = this.columns.concat();\n        if (rowSelection) {\n            const data = this.getFlatCurrentPageData().filter((item, index) => {\n                if (rowSelection.getCheckboxProps) {\n                    return !this.getCheckboxPropsByItem(item, index).disabled;\n                }\n                return true;\n            });\n            const selectionColumnClass = classNames(`${prefixCls}-selection-column`, {\n                [`${prefixCls}-selection-column-custom`]: rowSelection.selections,\n            });\n            const selectionColumn = {\n                key: 'selection-column',\n                render: this.renderSelectionBox(rowSelection.type),\n                className: selectionColumnClass,\n                fixed: rowSelection.fixed,\n                width: rowSelection.columnWidth,\n                title: rowSelection.columnTitle,\n                [INTERNAL_COL_DEFINE]: {\n                    className: `${prefixCls}-selection-col`,\n                },\n            };\n            if (rowSelection.type !== 'radio') {\n                const checkboxAllDisabled = data.every((item, index) => this.getCheckboxPropsByItem(item, index).disabled);\n                selectionColumn.title = selectionColumn.title || (<SelectionCheckboxAll store={this.store} locale={locale} data={data} getCheckboxPropsByItem={this.getCheckboxPropsByItem} getRecordKey={this.getRecordKey} disabled={checkboxAllDisabled} prefixCls={prefixCls} onSelect={this.handleSelectRow} selections={rowSelection.selections} hideDefaultSelections={rowSelection.hideDefaultSelections} getPopupContainer={this.generatePopupContainerFunc(getPopupContainer)}/>);\n            }\n            if ('fixed' in rowSelection) {\n                selectionColumn.fixed = rowSelection.fixed;\n            }\n            else if (columns.some(column => column.fixed === 'left' || column.fixed === true)) {\n                selectionColumn.fixed = 'left';\n            }\n            if (columns[0] && columns[0].key === 'selection-column') {\n                columns[0] = selectionColumn;\n            }\n            else {\n                columns.unshift(selectionColumn);\n            }\n        }\n        return columns;\n    }\n    getColumnKey(column, index) {\n        return column.key || column.dataIndex || index;\n    }\n    getMaxCurrent(total) {\n        const { pagination: { current, pageSize }, } = this.state;\n        if ((current - 1) * pageSize >= total) {\n            return Math.floor((total - 1) / pageSize) + 1;\n        }\n        return current;\n    }\n    isSortColumn(column) {\n        const { sortColumn } = this.state;\n        if (!column || !sortColumn) {\n            return false;\n        }\n        return this.getColumnKey(sortColumn) === this.getColumnKey(column);\n    }\n    renderColumnsDropdown({ prefixCls, dropdownPrefixCls, columns, locale, getPopupContainer, }) {\n        const { sortOrder, filters } = this.state;\n        return treeMap(columns, (column, i) => {\n            const key = this.getColumnKey(column, i);\n            let filterDropdown;\n            let sortButton;\n            let onHeaderCell = column.onHeaderCell;\n            const isSortColumn = this.isSortColumn(column);\n            if ((column.filters && column.filters.length > 0) || column.filterDropdown) {\n                const colFilters = key in filters ? filters[key] : [];\n                filterDropdown = (<FilterDropdown locale={locale} column={column} selectedKeys={colFilters} confirmFilter={this.handleFilter} prefixCls={`${prefixCls}-filter`} dropdownPrefixCls={dropdownPrefixCls || 'ant-dropdown'} getPopupContainer={this.generatePopupContainerFunc(getPopupContainer)} key=\"filter-dropdown\"/>);\n            }\n            if (column.sorter) {\n                const sortDirections = column.sortDirections || this.props.sortDirections;\n                const isAscend = isSortColumn && sortOrder === 'ascend';\n                const isDescend = isSortColumn && sortOrder === 'descend';\n                const ascend = sortDirections.indexOf('ascend') !== -1 && (<Icon className={`${prefixCls}-column-sorter-up ${isAscend ? 'on' : 'off'}`} type=\"caret-up\" theme=\"filled\"/>);\n                const descend = sortDirections.indexOf('descend') !== -1 && (<Icon className={`${prefixCls}-column-sorter-down ${isDescend ? 'on' : 'off'}`} type=\"caret-down\" theme=\"filled\"/>);\n                sortButton = (<div title={locale.sortTitle} className={classNames(`${prefixCls}-column-sorter-inner`, ascend && descend && `${prefixCls}-column-sorter-inner-full`)} key=\"sorter\">\n            {ascend}\n            {descend}\n          </div>);\n                onHeaderCell = (col) => {\n                    let colProps = {};\n                    // Get original first\n                    if (column.onHeaderCell) {\n                        colProps = Object.assign({}, column.onHeaderCell(col));\n                    }\n                    // Add sorter logic\n                    const onHeaderCellClick = colProps.onClick;\n                    colProps.onClick = (...args) => {\n                        this.toggleSortOrder(column);\n                        if (onHeaderCellClick) {\n                            onHeaderCellClick(...args);\n                        }\n                    };\n                    return colProps;\n                };\n            }\n            return Object.assign({}, column, { className: classNames(column.className, {\n                    [`${prefixCls}-column-has-actions`]: sortButton || filterDropdown,\n                    [`${prefixCls}-column-has-filters`]: filterDropdown,\n                    [`${prefixCls}-column-has-sorters`]: sortButton,\n                    [`${prefixCls}-column-sort`]: isSortColumn && sortOrder,\n                }), title: [\n                    <span key=\"title\" className={`${prefixCls}-header-column`}>\n            <div className={sortButton ? `${prefixCls}-column-sorters` : undefined}>\n              <span className={`${prefixCls}-column-title`}>\n                {this.renderColumnTitle(column.title)}\n              </span>\n              <span className={`${prefixCls}-column-sorter`}>{sortButton}</span>\n            </div>\n          </span>,\n                    filterDropdown,\n                ], onHeaderCell });\n        });\n    }\n    renderColumnTitle(title) {\n        const { filters, sortOrder } = this.state;\n        // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\n        if (title instanceof Function) {\n            return title({\n                filters,\n                sortOrder,\n            });\n        }\n        return title;\n    }\n    renderPagination(prefixCls, paginationPosition) {\n        // å¼ºåˆ¶ä¸éœ€è¦åˆ†é¡µ\n        if (!this.hasPagination()) {\n            return null;\n        }\n        let size = 'default';\n        const { pagination } = this.state;\n        if (pagination.size) {\n            size = pagination.size;\n        }\n        else if (this.props.size === 'middle' || this.props.size === 'small') {\n            size = 'small';\n        }\n        const position = pagination.position || 'bottom';\n        const total = pagination.total || this.getLocalData().length;\n        return total > 0 && (position === paginationPosition || position === 'both') ? (<Pagination key={`pagination-${paginationPosition}`} {...pagination} className={classNames(pagination.className, `${prefixCls}-pagination`)} onChange={this.handlePageChange} total={total} size={size} current={this.getMaxCurrent(total)} onShowSizeChange={this.handleShowSizeChange}/>) : null;\n    }\n    // Get pagination, filters, sorter\n    prepareParamsArguments(state) {\n        const pagination = Object.assign({}, state.pagination);\n        // remove useless handle function in Table.onChange\n        delete pagination.onChange;\n        delete pagination.onShowSizeChange;\n        const filters = state.filters;\n        const sorter = {};\n        if (state.sortColumn && state.sortOrder) {\n            sorter.column = state.sortColumn;\n            sorter.order = state.sortOrder;\n            sorter.field = state.sortColumn.dataIndex;\n            sorter.columnKey = this.getColumnKey(state.sortColumn);\n        }\n        const extra = {\n            currentDataSource: this.getLocalData(state),\n        };\n        return [pagination, filters, sorter, extra];\n    }\n    findColumn(myKey) {\n        let column;\n        treeMap(this.columns, c => {\n            if (this.getColumnKey(c) === myKey) {\n                column = c;\n            }\n        });\n        return column;\n    }\n    getCurrentPageData() {\n        let data = this.getLocalData();\n        let current;\n        let pageSize;\n        const state = this.state;\n        // å¦‚æžœæ²¡æœ‰åˆ†é¡µçš„è¯ï¼Œé»˜è®¤å…¨éƒ¨å±•ç¤º\n        if (!this.hasPagination()) {\n            pageSize = Number.MAX_VALUE;\n            current = 1;\n        }\n        else {\n            pageSize = state.pagination.pageSize;\n            current = this.getMaxCurrent(state.pagination.total || data.length);\n        }\n        // åˆ†é¡µ\n        // ---\n        // å½“æ•°æ®é‡å°‘äºŽç­‰äºŽæ¯é¡µæ•°é‡æ—¶ï¼Œç›´æŽ¥è®¾ç½®æ•°æ®\n        // å¦åˆ™è¿›è¡Œè¯»å–åˆ†é¡µæ•°æ®\n        if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n            data = data.filter((_, i) => {\n                return i >= (current - 1) * pageSize && i < current * pageSize;\n            });\n        }\n        return data;\n    }\n    getFlatData() {\n        const { childrenColumnName } = this.props;\n        return flatArray(this.getLocalData(null, false), childrenColumnName);\n    }\n    getFlatCurrentPageData() {\n        const { childrenColumnName } = this.props;\n        return flatArray(this.getCurrentPageData(), childrenColumnName);\n    }\n    recursiveSort(data, sorterFn) {\n        const { childrenColumnName = 'children' } = this.props;\n        return data.sort(sorterFn).map((item) => item[childrenColumnName]\n            ? Object.assign({}, item, { [childrenColumnName]: this.recursiveSort(item[childrenColumnName], sorterFn) }) : item);\n    }\n    getLocalData(state, filter = true) {\n        const currentState = state || this.state;\n        const { dataSource } = this.props;\n        let data = dataSource || [];\n        // ä¼˜åŒ–æœ¬åœ°æŽ’åº\n        data = data.slice(0);\n        const sorterFn = this.getSorterFn(currentState);\n        if (sorterFn) {\n            data = this.recursiveSort(data, sorterFn);\n        }\n        // ç­›é€‰\n        if (filter && currentState.filters) {\n            Object.keys(currentState.filters).forEach(columnKey => {\n                const col = this.findColumn(columnKey);\n                if (!col) {\n                    return;\n                }\n                const values = currentState.filters[columnKey] || [];\n                if (values.length === 0) {\n                    return;\n                }\n                const onFilter = col.onFilter;\n                data = onFilter\n                    ? data.filter(record => {\n                        return values.some(v => onFilter(v, record));\n                    })\n                    : data;\n            });\n        }\n        return data;\n    }\n    createComponents(components = {}, prevComponents) {\n        const bodyRow = components && components.body && components.body.row;\n        const preBodyRow = prevComponents && prevComponents.body && prevComponents.body.row;\n        if (!this.row || bodyRow !== preBodyRow) {\n            this.row = createBodyRow(bodyRow);\n        }\n        this.components = Object.assign({}, components, { body: Object.assign({}, components.body, { row: this.row }) });\n    }\n    render() {\n        return <ConfigConsumer>{this.renderComponent}</ConfigConsumer>;\n    }\n}\nTable.Column = Column;\nTable.ColumnGroup = ColumnGroup;\nTable.propTypes = {\n    dataSource: PropTypes.array,\n    columns: PropTypes.array,\n    prefixCls: PropTypes.string,\n    useFixedHeader: PropTypes.bool,\n    rowSelection: PropTypes.object,\n    className: PropTypes.string,\n    size: PropTypes.string,\n    loading: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n    bordered: PropTypes.bool,\n    onChange: PropTypes.func,\n    locale: PropTypes.object,\n    dropdownPrefixCls: PropTypes.string,\n    sortDirections: PropTypes.array,\n    getPopupContainer: PropTypes.func,\n};\nTable.defaultProps = {\n    dataSource: [],\n    useFixedHeader: false,\n    className: '',\n    size: 'default',\n    loading: false,\n    bordered: false,\n    indentSize: 20,\n    locale: {},\n    rowKey: 'key',\n    showHeader: true,\n    sortDirections: ['ascend', 'descend'],\n    childrenColumnName: 'children',\n};\n"],"file":"Table.js"}